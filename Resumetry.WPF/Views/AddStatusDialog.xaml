<Window x:Class="Resumetry.Views.AddStatusDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:converters="clr-namespace:Resumetry.Converters"
        Title="Add Status"
        Width="250"
        SizeToContent="Height"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        ShowInTaskbar="False">

    <Window.Resources>
        <converters:StatusToBrushConverter x:Key="StatusToBrushConverter"/>
    </Window.Resources>

    <Border Background="{StaticResource LightGrayBrush}" Padding="12">
        <StackPanel>

            <!-- Date -->
            <TextBlock Text="Date" Style="{StaticResource FormLabelStyle}"/>
            <DatePicker SelectedDate="{Binding Occurred}"
                        Style="{StaticResource ModernDatePickerStyle}"
                        Height="36"
                        Margin="0,0,0,12"/>

            <!-- Status -->
            <TextBlock Text="Status" Style="{StaticResource FormLabelStyle}"/>
            <ComboBox ItemsSource="{Binding AvailableStatuses}"
                      SelectedItem="{Binding SelectedStatus}"
                      Style="{StaticResource ModernComboBoxStyle}"
                      Height="38"
                      Margin="0,0,0,12">
                <ComboBox.ItemTemplate>
                    <DataTemplate>
                        <Border Background="{Binding Converter={StaticResource StatusToBrushConverter}}"
                                CornerRadius="4"
                                Padding="8,3"
                                HorizontalAlignment="Left">
                            <TextBlock Text="{Binding}"
                                       Foreground="White"
                                       FontWeight="SemiBold"
                                       FontSize="13"/>
                        </Border>
                    </DataTemplate>
                </ComboBox.ItemTemplate>
            </ComboBox>

            <!-- Buttons -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <Button Content="Cancel"
                        Style="{StaticResource SecondaryButtonStyle}"
                        Command="{Binding CancelCommand}"
                        Height="36"
                        Padding="16,0"
                        Margin="0,0,8,0"/>
                <Button Content="Add"
                        Style="{StaticResource PrimaryButtonStyle}"
                        Command="{Binding ConfirmCommand}"
                        Height="36"
                        Padding="16,0"
                        IsDefault="True"/>
            </StackPanel>

        </StackPanel>
    </Border>
</Window>
